<!--
product_images = [links:str]
-->
<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lanciare - Detalhes do Leilão</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght[400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="{{  url_for('static', filename='styles/components/header.css')  }}">
    <link rel="stylesheet" href="{{  url_for('static', filename='styles/StyleAuction.css')  }}">
</head>

<body>
    {% include "components/Header.html" %}

    <main>
        <div class="container item-detail-layout">

            <section class="main-content-area">

                <div class="gallery-section">
                    <div class="main-image-display">
                        <img id="main-photo" src="{{ product_images[0].image }}" alt="Foto Principal">
                    </div>
                    <div class="thumbnails">
                        {% for link in product_images %}
                        <img src="{{ link.image }}" class="thumb active">
                        {% endfor %}
                    </div>
                </div>

                <div class="info-section">
                    <p class="item-category"><a href="/categories">Categorias</a> / <a href="#">{{ product_category
                            }}</a></p>
                    <h1 id="item-title">{{ product.product_name }}</h1>

                    <div class="current-bid-box">
                        <p>Lance Atual:</p>
                        <span id="current-price" class="price-display">R$ {{ product.min_bid }}</span>
                    </div>

                    <div class="bid-timer">
                        <i class="far fa-clock"></i>
                        <span id="time-left">Tempo restante: 02h 35m 12s</span>
                    </div>

                    <div class="bid-controls">
                        <div class="bid-input-group">
                            <label for="bid-amount">Seu Lance (Mínimo R$ {{ product.min_bid }})</label>
                            <input type="number" id="bid-amount" placeholder="R$ {{ product.min_bid }}" step="50.00">
                            <button class="btn-bid submit-bid-btn"><i class="fas fa-gavel"></i> DAR LANCE</button>
                        </div>
                        <p class="bid-policy">Você será notificado por e-mail sobre lances superiores.</p>
                    </div>

                    <div class="seller-info">
                        <p>Vendido por: <a href="#">{{ product_user }}</a></p>
                        <p>ID do Item: #{{ product.product_id }}</p>
                    </div>
                </div>
            </section>

            <section class="details-and-history">

                <div class="item-description-panel">
                    <h2>Detalhes do Item</h2>
                    <div class="description-content">
                        <h3>Descrição Completa</h3>
                        <p id="item-description">{{ product.description }}</p>

                        {% set location_attrs = [
                        ('Estado', product.state),
                        ('Cidade', product.city),
                        ('Bairro', product.district),
                        ('Rua', product.street_name),
                        ('Número', product.street_number)
                        ] %}

                        {% if non_null_attrs %}
                        <h3>Localização</h3>
                        <ul>
                            {% for label, value in non_null_attrs %}
                            <li>{{ label }}: {{ value }}</li>
                            {% endfor %}
                        </ul>
                        {% endif %}

                        {% set location_attrs = [
                        ('Estado', product.state),
                        ('Cidade', product.city),
                        ('Bairro', product.district),
                        ('Rua', product.street_name),
                        ('Número', product.street_number)
                        ] %}

                        {% set non_null_attrs = location_attrs | selectattr(1) | list %}

                        {% if non_null_attrs %}
                        <h3>Localização</h3>
                        <ul>
                            {% for label, value in non_null_attrs %}
                            <li>{{ label }}: {{ value }}</li>
                            {% endfor %}
                        </ul>
                        {% endif %}

                        {% set process_attrs = [
                        ('Número do Processo', product_legal.process_number),
                        ('Tribunal', product_legal.court),
                        ('Autor', product_legal.plaintiff),
                        ('Réu', product_legal.defendant),
                        ('Juiz', product_legal.judge_name),
                        ('Observações', product_legal.extra_notes)
                        ] %}

                        {% set non_null_process = process_attrs | selectattr(1) | list %}

                        {% if non_null_process %}
                        <h3>Processo</h3>
                        <ul>
                            {% for label, value in non_null_process %}
                            <li>{{ label }}: {{ value }}</li>
                            {% endfor %}
                        </ul>
                        {% endif %}




                        <h3>Especificações Técnicas</h3>
                        <ul class="specs-list">
                            <li><i class="fas fa-check-circle"></i> Condição: <span id="spec-condition">Usado (Ótimo
                                    Estado)</span></li>
                            <li><i class="fas fa-check-circle"></i> Material: <span id="spec-material">Metal e
                                    Couro</span></li>
                            <li><i class="fas fa-check-circle"></i> Data de Início: <span id="spec-start">30/10/2025 às
                                    10:00</span></li>
                        </ul>
                    </div>
                </div>

                <div class="bids-history-panel">
                    <h2>Histórico de Lances</h2>
                    <ul class="bid-history-list">
                        <li class="bid-entry">
                            <span class="bidder">Usuário A</span>
                            <span class="bid-value">R$ 1.800,00</span>
                            <span class="bid-time">15:30:10</span>
                        </li>
                        <li class="bid-entry">
                            <span class="bidder">Usuário B</span>
                            <span class="bid-value">R$ 1.750,00</span>
                            <span class="bid-time">15:29:55</span>
                        </li>
                        <li class="bid-entry">
                            <span class="bidder">Usuário C</span>
                            <span class="bid-value">R$ 1.700,00</span>
                            <span class="bid-time">15:29:01</span>
                        </li>
                    </ul>
                    <p class="no-bids">Seja o primeiro a dar um lance!</p>
                </div>
            </section>

            <section class="recommendations-section">
                <h2>Você Também Pode Gostar</h2>
                <div class="product-grid recommended-grid">
                    <div class="product-card">
                        <div class="product-image"
                            style="background-image: url('https://via.placeholder.com/250x180/E0E0E0/333333?text=Relicario');">
                        </div>
                        <h3>Relicário de Prata Antigo</h3>
                        <p class="price">R$ 550,00</p>
                        <p class="time-left"><i class="far fa-clock"></i> Tempo: 12h 00m</p>
                        <button class="btn-bid">DAR LANCE</button>
                    </div>
                    <div class="product-card">
                        <div class="product-image"
                            style="background-image: url('https://via.placeholder.com/250x180/E0E0E0/333333?text=Obra+Arte');">
                        </div>
                        <h3>Pintura a Óleo Moderna</h3>
                        <p class="price">R$ 3.500,00</p>
                        <p class="time-left"><i class="far fa-clock"></i> Tempo: 05h 10m</p>
                        <button class="btn-bid">DAR LANCE</button>
                    </div>
                    <div class="product-card">
                        <div class="product-image"
                            style="background-image: url('https://via.placeholder.com/250x180/E0E0E0/333333?text=Celular+Raro');">
                        </div>
                        <h3>Celular Clássico Ed. Limitada</h3>
                        <p class="price">R$ 1.100,00</p>
                        <p class="time-left"><i class="far fa-clock"></i> Tempo: 23h 45m</p>
                        <button class="btn-bid">DAR LANCE</button>
                    </div>
                </div>
            </section>

        </div>
    </main>

    {% include "components/Footer.html" %}
</body>

</html>